<?php

namespace Database\Seeders;

use App\Models\Reviews;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class ReviewsTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $data = [
            [
                'date' => '16.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/26la7qywg5mzxs2mssosokucblawoql5.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/26la7qywg5mzxs2mssosokucblawoql5.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '16.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/vgjkbqsnw2zcryhkaoz51rpkl3vw2qjj.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/vgjkbqsnw2zcryhkaoz51rpkl3vw2qjj.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '16.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/jayrnze32d7qeenzq4grifxydxd9uzii.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/jayrnze32d7qeenzq4grifxydxd9uzii.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '7.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/02ie2ru3ektyv3k1gdp2xbbyn9f6of1d.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/02ie2ru3ektyv3k1gdp2xbbyn9f6of1d.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '7.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/xuqt3kdzc5jnibysrvwhisldffaky6at.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/xuqt3kdzc5jnibysrvwhisldffaky6at.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '7.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/its3483fx5v1irsvryi2zrq26fxb0f6k.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/its3483fx5v1irsvryi2zrq26fxb0f6k.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '7.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/xi5fp86oxetq7y0pcozdvdncfac7d3o4.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/xi5fp86oxetq7y0pcozdvdncfac7d3o4.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '7.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/p0gyiem343angfhejvizvt2jyzmovzfh.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/p0gyiem343angfhejvizvt2jyzmovzfh.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '7.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/sz4prv0svacc91am8mja1bywx5fxa5lf.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/sz4prv0svacc91am8mja1bywx5fxa5lf.mov',
                'type' => 'video/mp4',
            ],
            [
                'date' => '30.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/f8571e8adf06982a4b367dc229b78d41.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/f8571e8adf06982a4b367dc229b78d41.mp4',
                'type' => 'video/mp4',
            ],
            [
                'date' => '30.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/6dfba717ed6723017bae09cd6e6270fb.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/6dfba717ed6723017bae09cd6e6270fb.mp4',
                'type' => 'video/mp4',
            ],
            [
                'date' => '30.11.2022',
                'title' => 'Видео отзыв',
                'poster' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/6400dd4cee5f23ce8537e7a2752e3d1f.png',
                'src' => 'https://storage.yandexcloud.net/storage.inspectrum.ru/inspectrum-clinic/video/reviews/6400dd4cee5f23ce8537e7a2752e3d1f.mp4',
                'type' => 'video/mp4',
            ],
        ];

        if (count($data) > 0) {
            foreach ($data as $item) {
                $db_review = Reviews::where([
                    'poster' => $item['poster'],
                    'src' => $item['src'],
                ])->first();
                if (!$db_review) {
                    $db_review = new Reviews();
                    $db_review->poster = $item['poster'];
                    $db_review->src = $item['src'];
                    $db_review->type = $item['type'];
                }
                $db_review->title = $item['title'];
                $db_review->created_at = strtotime($item['date']);
                $db_review->save();
                $this->command->info('Отзыв добавлен');
            }
        }
    }
}
